function [RPlat, pang] = SlopRad(As,Zs,Ap,Zp,SDir,Sky);% function [RPlat, pang] = SlopRad(As,Zs,Ap,Zp,SDir,Sky);% radiation on a tilted plate% 	As    =  Azimuth of sun (rad)% 	Zs    =  Zenith angle of sun (rad)% 	Ap    =  Azimuth of normal to plate (rad)% 	Zp    =  Zenith angle of normal to plate (rad)% 	SDir  =  Direct solar radiation (W/m2)% 	Sky   =  Diffuse solar radiation (W/m2)% 	pang  =  Angle b/w plate and sun (rad)DelA    = abs(As - Ap);         %diff in azimuth anglespang = acos((sin(Zp).*sin(Zs).*cos(DelA) + cos(Zp).*cos(Zs)));chk = (pang <= pi/2);           %chk = 1 if sun shines on plate, 0 otherwiseDirP = SDir .*chk .* (sin(Zp).*sin(Zs).*cos(DelA) + cos(Zp).*cos(Zs));RPlat = DirP + Sky;